const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/ArtGallery-BBYkMinT.js","js/chunk-DaRttSCz.js","js/chunk-CMRBzt0a.js","js/chunk-ouJazw0A.js","js/chunk-C4w0ZaE1.js","js/chunk-B_5sYMzl.js","js/chunk-D6gn2S_1.js","js/chunk-ZA2d1dje.js","js/chunk-DaL-jLV-.js","js/chunk-D-ukXXUr.js","js/Home-CIXLiJy5.js","js/chunk-DV-FDLFW.js","assets/Home-AEzdV_Nc.css","js/IndiaMapPage-BRPYqW8m.js","js/About-C-g7AjSE.js","js/LoginPage-KyuaJPlZ.js","js/chunk-DkQ8jBAr.js","js/Signup-BbiFkX90.js","js/PhoneLogin-BOFDetPR.js","js/PhoneSignup-DLURJGxA.js","js/TermsOfService-BjRyHlqQ.js","js/PrivacyPolicy-BT5Hi1gi.js","js/CommunityGuidelines-Dp5WclhP.js","js/UserPage-BzoMoXYq.js","js/chunk-wq3_2aXQ.js","js/chunk-3CsDJ1i-.js","assets/ArtCard-r2S6UCa-.css","js/chunk-CwFW2VuZ.js","js/chunk-mrUWym3N.js","js/ForgotPw-DcOvmH9g.js","js/ResetPassword-D6t_YMw3.js","js/DanceGallery-BG0GX19o.js","js/MusicPage-X1jE9yjT.js","assets/MusicPage-_U6-sZs3.css","js/CraftsPage-BOMD2Xq6.js","js/EventsPage-DG_OT5kV.js","assets/EventsPage-DDKpoaqD.css","js/ArtWall-Bur2IqUM.js","js/ArtistsList-DOmH3hT_.js","js/ArtistProfile-BdcEIrPE.js","js/AdminLogin-BBUrZRWo.js","js/AdminPanel-CS8Afne9.js","assets/AdminPanel-0QKmgXBL.css","js/AdminDashboard-DjsVPb5M.js","js/SearchResults-BitxRIVK.js"])))=>i.map(i=>d[i]);
import{j as e,m as t}from"./chunk-DaRttSCz.js";import{r as a,R as r,u as o,L as n,N as l,a as i,b as s,c,B as d}from"./chunk-CMRBzt0a.js";import{_ as h,R as u}from"./chunk-ZA2d1dje.js";import{y as m,L as p}from"./chunk-DaL-jLV-.js";import{a as f}from"./chunk-C4w0ZaE1.js";import{G as g}from"./chunk-D-ukXXUr.js";import"./chunk-ouJazw0A.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const v=f.create({baseURL:"http://localhost:5050",timeout:1e4,headers:{"Content-Type":"application/json"}});v.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e},e=>Promise.reject(e)),v.interceptors.response.use(e=>e,e=>{var t;return 401===(null==(t=e.response)?void 0:t.status)&&localStorage.removeItem("token"),Promise.reject(e)});const x=a.createContext(),w=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),y=(e,t=!0)=>{t?(localStorage.setItem("token",e),sessionStorage.removeItem("token")):(sessionStorage.setItem("token",e),localStorage.removeItem("token"))},b=()=>{localStorage.removeItem("token"),sessionStorage.removeItem("token")},N={user:null,token:w(),isAuthenticated:!1,loading:!0,error:null},E=(e,t)=>{switch(t.type){case"USER_LOADED":return{...e,isAuthenticated:!0,loading:!1,user:t.payload,error:null};case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return{...e,token:t.payload.token,user:t.payload.user,isAuthenticated:!0,loading:!1,error:null};case"REGISTER_FAIL":case"LOGIN_FAIL":case"AUTH_ERROR":return b(),{...e,token:null,user:null,isAuthenticated:!1,loading:!1,error:t.payload};case"LOGOUT":return b(),{...e,token:null,user:null,isAuthenticated:!1,loading:!1,error:null};case"CLEAR_ERROR":return{...e,error:null};case"SET_LOADING":return{...e,loading:t.payload};case"UPDATE_USER":return{...e,user:{...e.user,...t.payload}};default:return e}},k=({children:t})=>{const[r,o]=a.useReducer(E,N),n=e=>{e?f.defaults.headers.common.Authorization="Bearer "+e:delete f.defaults.headers.common.Authorization},l=async()=>{var e,t,a;const r=w();if(r){n(r);try{const e=await v.get("/api/auth/me");o({type:"USER_LOADED",payload:e.data.user})}catch(l){401===(null==(e=l.response)?void 0:e.status)&&(b(),n(null)),o({type:"AUTH_ERROR",payload:(null==(a=null==(t=l.response)?void 0:t.data)?void 0:a.message)||"Authentication failed"})}}else o({type:"AUTH_ERROR",payload:"No token found"})};return a.useEffect(()=>{l()},[]),e.jsx(x.Provider,{value:{...r,register:async(e,t=!0)=>{var a,r;o({type:"SET_LOADING",payload:!0});try{const a=await v.post("/api/auth/register",e),{token:r,user:l}=a.data;return y(r,t),o({type:"REGISTER_SUCCESS",payload:{token:r,user:l}}),n(r),{success:!0,data:a.data}}catch(l){const e=(null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.message)||"Registration failed";return o({type:"REGISTER_FAIL",payload:e}),{success:!1,error:e}}},registerWithPhone:async e=>{var t,a;o({type:"SET_LOADING",payload:!0});try{const t=await v.post("/api/auth/register-phone",e);return o({type:"REGISTER_SUCCESS",payload:t.data}),n(t.data.token),{success:!0,data:t.data}}catch(r){const e=(null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message)||"Registration failed";return o({type:"REGISTER_FAIL",payload:e}),{success:!1,error:e}}},login:async(e,t=!0)=>{var a,r;o({type:"SET_LOADING",payload:!0});try{const a=await v.post("/api/auth/login",e);return y(a.data.token,t),o({type:"LOGIN_SUCCESS",payload:a.data}),n(a.data.token),{success:!0,data:a.data}}catch(l){const e=(null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.message)||"Login failed";return o({type:"LOGIN_FAIL",payload:e}),{success:!1,error:e}}},loginWithPhone:async e=>{var t,a;o({type:"SET_LOADING",payload:!0});try{const t=await v.post("/api/auth/login-phone",e);return o({type:"LOGIN_SUCCESS",payload:t.data}),n(t.data.token),{success:!0,data:t.data}}catch(r){const e=(null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message)||"Login failed";return o({type:"LOGIN_FAIL",payload:e}),{success:!1,error:e}}},logout:async()=>{try{await v.post("/api/auth/logout")}catch(e){}o({type:"LOGOUT"}),n(null)},forgotPassword:async e=>{var t,a;try{return{success:!0,message:(await v.post("/api/auth/forgot-password",{email:e})).data.message}}catch(r){return{success:!1,error:(null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message)||"Failed to send reset email"}}},resetPassword:async(e,t)=>{var a,r;try{const a=await v.put("/api/auth/reset-password/"+e,{password:t});return o({type:"LOGIN_SUCCESS",payload:a.data}),n(a.data.token),{success:!0,data:a.data}}catch(l){return{success:!1,error:(null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.message)||"Password reset failed"}}},verifyEmail:async e=>{var t,a;try{return{success:!0,message:(await v.get("/api/auth/verify-email/"+e)).data.message}}catch(r){return{success:!1,error:(null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message)||"Email verification failed"}}},resendVerificationEmail:async e=>{var t,a;try{return{success:!0,message:(await v.post("/api/auth/resend-verification",{email:e})).data.message}}catch(r){return{success:!1,error:(null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message)||"Failed to resend verification email"}}},clearError:()=>{o({type:"CLEAR_ERROR"})},loadUser:l,updateUser:e=>{o({type:"UPDATE_USER",payload:e})}},children:t})},S=()=>{const e=a.useContext(x);if(!e)throw Error("useAuth must be used within an AuthProvider");return e};function A(e){return g({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function z(e){return g({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function _(e){return g({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(e)}function L(e){return g({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function C(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function T(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function R(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function M(e){return g({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function j(e){return g({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function P(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function $(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function O(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function V(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function I(e){return g({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function B(e){return g({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function D(e){return g({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function F(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function U(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(e)}function H(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function G(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function J(e){return g({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function q(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function K(e){return g({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function W(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function Y(e){return g({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Z(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Q(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function X(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function ee(e){return g({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function te(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function ae(e){return g({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function re(e){return g({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function oe(e){return g({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function ne(e){return g({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function le(e){return g({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"},child:[]}]})(e)}function ie(e){return g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}const se="http://localhost:5050",ce={getReports:async(e={})=>{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.type&&t.append("type",e.type),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit);const a=`${se}/api/reports${t.toString()?"?"+t.toString():""}`,r=await fetch(a,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw Error(`Failed to fetch reports: ${r.status} - ${e}`)}return await r.json()},updateReportStatus:async(e,t,a="")=>{const r=await fetch(`${se}/api/reports/${e}/status`,{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify({status:t,adminNotes:a})});if(!r.ok)throw Error("Failed to update report status");return r.json()},getReportStats:async()=>{const e=await fetch(se+"/api/reports/stats",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch report statistics");return e.json()},adminLogin:async e=>{try{const a=await fetch(se+"/api/auth/admin-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e="Admin login failed";try{e=(await a.json()).message||e}catch(t){e=await a.text()||e}throw Error(`${a.status}: ${e}`)}return await a.json()}catch(a){if("TypeError"===a.name&&a.message.includes("fetch"))throw Error("Network error: Could not connect to server. Please check if the server is running.");throw a}},getAllUsers:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.search&&t.append("search",e.search),e.role&&t.append("role",e.role);const a=`${se}/api/users/admin/all${t.toString()?"?"+t.toString():""}`,r=await fetch(a,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw Error(`Failed to fetch users: ${r.status} - ${e}`)}return r.json()},getUserStatsAdmin:async()=>{const e=await fetch(se+"/api/users/admin/stats",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch user statistics");return e.json()},createUser:async e=>{const t=await fetch(se+"/api/users/admin/create",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json().catch(()=>({message:"Unknown error"}));throw Error(e.message||"Failed to create user")}return t.json()},updateUserRole:async(e,t)=>{const a=await fetch(`${se}/api/users/admin/${e}/role`,{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify({role:t})});if(!a.ok){const e=await a.json().catch(()=>({message:"Unknown error"}));throw Error(e.message||"Failed to update user role")}return a.json()},deleteUser:async e=>{const t=await fetch(`${se}/api/users/admin/${e}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!t.ok){const e=await t.json().catch(()=>({message:"Unknown error"}));throw Error(e.message||"Failed to delete user")}return t.json()},getAllArtworks:async()=>{const e=await fetch(se+"/api/artworks",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw Error(`Failed to fetch artworks: ${e.status} - ${t}`)}const t=await e.json();return t.data||t},deleteArtwork:async e=>{const t=await fetch(`${se}/api/artworks/${e}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!t.ok){const e=await t.json().catch(()=>({message:"Unknown error"}));throw Error(e.message||"Failed to delete artwork")}return t.json()},getAllEvents:async(e={})=>{const t=new URLSearchParams;e.creatorRole&&t.append("creatorRole",e.creatorRole),void 0!==e.upcoming&&t.append("upcoming",e.upcoming);const a=`${se}/api/events${t.toString()?"?"+t.toString():""}`,r=await fetch(a,{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw Error(`Failed to fetch events: ${r.status} - ${e}`)}return(await r.json()).data||[]},deleteEvent:async e=>{const t=await fetch(`${se}/api/events/${e}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!t.ok){const e=await t.json().catch(()=>({message:"Unknown error"}));throw Error(e.message||"Failed to delete event")}return t.json()},getEmailVerificationStatus:async()=>{const e=await fetch(se+"/api/email-verification/status",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!e.ok){const t=await e.json().catch(()=>({message:"Unknown error"}));throw Error(t.message||"Failed to fetch email verification status")}return e.json()},sendEmailVerification:async()=>{const e=await fetch(se+"/api/email-verification/send",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!e.ok){const t=await e.json().catch(()=>({message:"Unknown error"}));throw Error(t.message||"Failed to send verification email")}return e.json()}},de={login:async e=>{const t=await fetch(se+"/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Login failed");return t.json()},register:async e=>{const t=await fetch(se+"/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Registration failed");return t.json()},submitReport:async e=>{const t=await fetch(se+"/api/reports",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to submit report");return t.json()},getUserReports:async()=>{const e=await fetch(se+"/api/reports/user",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch user reports");return e.json()},getEvents:async(e={})=>{try{const a=new URLSearchParams;e.category&&a.append("category",e.category),e.type&&a.append("type",e.type),e.city&&a.append("city",e.city),e.state&&a.append("state",e.state),e.upcoming&&a.append("upcoming",e.upcoming),e.organizer&&a.append("organizer",e.organizer);const r=`${se}/api/events${a.toString()?"?"+a.toString():""}`,o=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok){let e="HTTP "+o.status;try{e+=" - "+await o.text()}catch(t){}throw Error("Failed to fetch events: "+e)}return await o.json()}catch(a){if("TypeError"===a.name&&a.message.includes("fetch"))throw Error("Network error: Could not connect to server. Please check if the server is running.");throw a}},getArtists:async(e={})=>{const t=new URLSearchParams;e.featured&&t.append("featured",e.featured),e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit),e.page&&t.append("page",e.page),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder);const a=`${se}/api/users/artists${t.toString()?"?"+t.toString():""}`,r=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw Error(`Failed to fetch artists: ${r.status} - ${e}`)}return r.json()},getArtist:async e=>{const t=`${se}/api/users/artists/${e}`,a=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok){const e=await a.text();throw Error(`Failed to fetch artist: ${a.status} - ${e}`)}return a.json()},getArtworks:async(e={})=>{const t=new URLSearchParams;e.category&&t.append("category",e.category),e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit),e.page&&t.append("page",e.page),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.userId&&t.append("userId",e.userId);const a=`${se}/api/artworks${t.toString()?"?"+t.toString():""}`,r=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw Error(`Failed to fetch artworks: ${r.status} - ${e}`)}return r.json()},toggleLike:async e=>{const t=await fetch(`${se}/api/artworks/${e}/like`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!t.ok){const e=await t.text();throw Error(`Failed to toggle like: ${t.status} - ${e}`)}return t.json()},toggleBookmark:async e=>{const t=await fetch(`${se}/api/artworks/${e}/bookmark`,{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!t.ok){const e=await t.text();throw Error(`Failed to toggle bookmark: ${t.status} - ${e}`)}return t.json()},createArtwork:async e=>{const t=await fetch(se+"/api/artworks",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw Error(`Failed to create artwork: ${t.status} - ${e}`)}return t.json()},updateArtwork:async(e,t)=>{const a=await fetch(`${se}/api/artworks/${e}`,{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const e=await a.text();throw Error(`Failed to update artwork: ${a.status} - ${e}`)}return a.json()},deleteArtwork:async e=>{const t=await fetch(`${se}/api/artworks/${e}`,{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!t.ok){const e=await t.text();throw Error(`Failed to delete artwork: ${t.status} - ${e}`)}return t.json()},getCurrentUser:async()=>{const e=await fetch(se+"/api/users/profile",{method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw Error(`Failed to fetch current user: ${e.status} - ${t}`)}return e.json()},smartSearch:async(e={})=>{const t=new URLSearchParams;e.query&&t.append("query",e.query),e.type&&t.append("type",e.type),e.limit&&t.append("limit",e.limit),e.page&&t.append("page",e.page);const a=`${se}/api/smart-search/search${t.toString()?"?"+t.toString():""}`,r=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw Error(`Smart search failed: ${r.status} - ${e}`)}return r.json()},getSearchSuggestions:async e=>{const t=new URLSearchParams;e&&t.append("query",e);const a=`${se}/api/smart-search/suggestions${t.toString()?"?"+t.toString():""}`,r=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw Error(`Failed to get search suggestions: ${r.status} - ${e}`)}return r.json()},analyzeSearchQuery:async e=>{const t=await fetch(se+"/api/smart-search/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e})});if(!t.ok){const e=await t.text();throw Error(`Failed to analyze query: ${t.status} - ${e}`)}return t.json()},getTrendingSearches:async()=>{const e=await fetch(se+"/api/smart-search/trending",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw Error(`Failed to get trending searches: ${e.status} - ${t}`)}return e.json()},advancedSearch:async e=>{const t=await fetch(se+"/api/smart-search/advanced",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw Error(`Advanced search failed: ${t.status} - ${e}`)}return t.json()},getSearchFilters:async()=>{const e=await fetch(se+"/api/smart-search/filters",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw Error(`Failed to get search filters: ${e.status} - ${t}`)}return e.json()},incrementView:async e=>{const t=await fetch(`${se}/api/artworks/${e}/view`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.text();throw Error(`Failed to increment view: ${t.status} - ${e}`)}return t.json()}};class he extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?e.jsxs("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg",children:[e.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Search Error"}),e.jsx("p",{className:"text-red-600 text-sm mb-2",children:"Something went wrong with the search component."}),e.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"text-sm bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700",children:"Try Again"}),e.jsxs("details",{className:"mt-2 text-xs text-red-500",children:[e.jsx("summary",{children:"Error Details"}),e.jsx("pre",{children:this.state.error&&this.state.error.toString()})]})]}):this.props.children}}const ue=({scrolled:t})=>{const[r,n]=a.useState(""),[l,i]=a.useState([]),[s,c]=a.useState([]),[d,h]=a.useState(!1),[u,m]=a.useState(!1),[p,f]=a.useState([]),[g,v]=a.useState([]),[x,w]=a.useState("all"),y=a.useRef(),b=o();a.useEffect(()=>{const e=localStorage.getItem("recentSearches");if(e)try{v(JSON.parse(e))}catch(t){}},[]),a.useEffect(()=>{const e=setTimeout(async()=>{if(r.length>1)try{m(!0);const e=await de.getSearchSuggestions(r);(null==e?void 0:e.success)&&i(e.suggestions||[])}catch(e){i([]),c([])}finally{m(!1)}else i([]),c([])},300);return()=>clearTimeout(e)},[r]),a.useEffect(()=>{d&&0===p.length&&(async()=>{var e;try{const t=await de.getTrendingSearches();t.success&&f((null==(e=t.trending)?void 0:e.searches)||[])}catch(t){}})()},[d,p.length]);const N=async(e=r,t="search")=>{e.trim()&&(h(!1),n(""),E(e),b("artist"===t?"/artist/"+e:"/search?q="+encodeURIComponent(e)))},E=e=>{const t=[e,...g.filter(t=>t!==e)].slice(0,5);v(t),localStorage.setItem("recentSearches",JSON.stringify(t))};return a.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.jsxs("div",{className:"relative flex items-center group",ref:y,children:[e.jsx("button",{className:"font-winky font-[500] transition-all duration-300 ease-in-out hover:text-rosehover whitespace-nowrap text-[1.35rem] text-deep-teal",onClick:()=>h(!d),children:e.jsx(Z,{size:20})}),e.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 -translate-y-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black/80 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Search"}),d&&e.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 rounded-xl shadow-2xl border transition-all duration-300 z-50 "+(t?"bg-white/95 backdrop-blur-md border-deep-teal/20":"bg-white/90 backdrop-blur-md border-deep-teal/30"),children:[e.jsx("div",{className:"p-4 border-b border-gray-200/50",children:e.jsxs("div",{className:"relative flex items-center w-full rounded-full transition-all duration-300 "+(t?"bg-white/90 backdrop-blur-sm border border-deep-teal/20":"bg-white/80 backdrop-blur-sm border border-deep-teal/30"),children:[e.jsx(Z,{className:"absolute left-3 text-gray-400",size:14}),e.jsx("input",{type:"text",placeholder:"Search artists, artworks...",value:r,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&N(),className:"w-full pl-10 pr-10 py-2.5 rounded-full bg-transparent text-sm font-medium placeholder-gray-500 focus:outline-none transition-all duration-300 text-deep-teal",autoFocus:!0}),r&&e.jsx("button",{onClick:()=>n(""),className:"absolute right-3 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ae,{size:12})})]})}),l.length>0&&e.jsxs("div",{className:"p-4 border-b border-gray-200/50",children:[e.jsxs("h4",{className:"text-sm font-semibold text-deep-teal mb-2 flex items-center gap-2",children:[e.jsx(W,{size:12,className:"text-coral-red"}),"Suggestions"]}),e.jsx("div",{className:"space-y-1",children:l.slice(0,4).map((t,a)=>e.jsx("button",{onClick:()=>N(t),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-deep-teal/10 rounded-lg transition-colors duration-200 font-medium",children:t},a))})]}),g.length>0&&0===r.length&&e.jsxs("div",{className:"p-4 border-b border-gray-200/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-deep-teal flex items-center gap-2",children:[e.jsx(G,{size:12,className:"text-saffronglow"}),"Recent Searches"]}),e.jsx("button",{onClick:()=>{v([]),localStorage.removeItem("recentSearches")},className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:"Clear"})]}),e.jsx("div",{className:"space-y-1",children:g.map((t,a)=>e.jsxs("button",{onClick:()=>N(t),className:"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-deep-teal/10 rounded-lg transition-colors duration-200 flex items-center gap-2",children:[e.jsx(P,{size:10,className:"text-gray-400"}),t]},a))})]}),p.length>0&&0===r.length&&e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-deep-teal mb-2 flex items-center gap-2",children:[e.jsx(P,{size:12,className:"text-saffronglow"}),"Trending Searches"]}),e.jsx("div",{className:"space-y-1",children:p.slice(0,6).map((t,a)=>e.jsx("button",{onClick:()=>N(t),className:"w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-deep-teal/10 rounded-lg transition-colors duration-200",children:t},a))})]}),u&&e.jsx("div",{className:"p-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-deep-teal",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-deep-teal/30 border-t-deep-teal rounded-full animate-spin"}),"Searching..."]})}),!u&&0===l.length&&e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-deep-teal mb-2 flex items-center gap-2",children:[e.jsx(ee,{size:12,className:"text-coral-red"}),r.length>0?"Try these suggestions":"Popular searches"]}),e.jsx("div",{className:"space-y-1",children:["beautiful odissi dance","traditional madhubani art","kathak dance performance","south indian classical music","folk art from rajasthan","contemporary indian artists"].map((t,a)=>e.jsx("button",{onClick:()=>N(t),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-deep-teal/10 rounded-lg transition-colors duration-200 font-medium",children:t},a))})]})]})]})},me=({initialQuery:t=""})=>{var r,o,n,l,i;const[s,c]=a.useState(t),[d,h]=a.useState({artworks:[],events:[],artists:[]}),[u,m]=a.useState(!1),[p,f]=a.useState(null);a.useEffect(()=>{s.length>2?g():(h({artworks:[],events:[],artists:[]}),f(null))},[s]);const g=async()=>{try{m(!0);const e=await de.smartSearch({query:s,type:"all",limit:20});e.success?(h(e.results||{artworks:[],events:[],artists:[]}),f(e.insights)):(h({artworks:[],events:[],artists:[]}),f(null))}catch(e){h({artworks:[],events:[],artists:[]}),f(null)}finally{m(!1)}},v=((null==(r=d.artworks)?void 0:r.length)||0)+((null==(o=d.events)?void 0:o.length)||0)+((null==(n=d.artists)?void 0:n.length)||0);return e.jsxs("div",{className:"w-full max-w-4xl mx-auto p-6",children:[e.jsx("div",{className:"relative mb-8",children:e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(Z,{className:"absolute left-4 text-deep-teal/60",size:20}),e.jsx("input",{type:"text",placeholder:"Ask me anything... 'show me beautiful odissi dance', 'find spiritual art from south india'",value:s,onChange:e=>c(e.target.value),className:"w-full pl-14 pr-14 py-4 rounded-2xl bg-white border-2 border-deep-teal/20 focus:border-deep-teal focus:outline-none text-lg font-medium placeholder-gray-500 shadow-lg transition-all duration-300"}),e.jsx(ee,{className:"absolute right-4 text-coral-red/60",size:20})]})}),p&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-deep-teal/10 to-coral-red/10 rounded-xl border border-deep-teal/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:"text-coral-red",size:14}),e.jsx("span",{className:"text-sm font-semibold text-deep-teal",children:"AI Analysis"})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Intent:"})," ",null==(l=p.queryAnalysis)?void 0:l.intent," â€¢",e.jsx("span",{className:"font-medium",children:"Confidence:"})," ",Math.round(100*((null==(i=p.queryAnalysis)?void 0:i.confidence)||0)),"% â€¢",e.jsx("span",{className:"font-medium",children:"Found:"})," ",v," results"]})]}),u&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"inline-flex items-center gap-3 text-deep-teal",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-deep-teal/30 border-t-deep-teal rounded-full animate-spin"}),e.jsx("span",{className:"text-lg font-medium",children:"AI is searching..."})]})}),!u&&v>0&&e.jsxs("div",{className:"space-y-8",children:[d.artworks&&d.artworks.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-deep-teal mb-4 flex items-center gap-2",children:["ðŸŽ¨ Artworks (",d.artworks.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.artworks.map(t=>{var a;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-deep-teal mb-2",children:t.title}),e.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:[null==(a=t.description)?void 0:a.substring(0,100),"..."]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:t.category||"Art"}),t.relevanceScore&&e.jsxs("span",{className:"bg-coral-red/20 text-coral-red px-2 py-1 rounded-full text-xs font-medium",children:[Math.round(100*t.relevanceScore),"% match"]})]})]})]},t.t||t.id)})})]}),d.events&&d.events.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-deep-teal mb-4 flex items-center gap-2",children:["ðŸ“… Events (",d.events.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.events.map(t=>{var a;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsx("h4",{className:"font-bold text-deep-teal mb-2",children:t.title}),e.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:[null==(a=t.description)?void 0:a.substring(0,150),"..."]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:t.type||"Event"}),e.jsx("span",{children:t.location?"string"==typeof t.location?t.location:""+(t.location.venue||t.location.city||t.location.address||"Location TBD"):"Location TBD"}),t.relevanceScore&&e.jsxs("span",{className:"bg-coral-red/20 text-coral-red px-2 py-1 rounded-full text-xs font-medium",children:[Math.round(100*t.relevanceScore),"% match"]})]})]},t.t||t.id)})})]}),d.artists&&d.artists.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-deep-teal mb-4 flex items-center gap-2",children:["ðŸ‘¥ Artists (",d.artists.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.artists.map(t=>{var a,r,o;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[t.profilePicture?e.jsx("img",{src:t.profilePicture,alt:t.username,className:"w-12 h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-deep-teal/20 flex items-center justify-center text-deep-teal font-bold",children:null==(r=null==(a=t.username)?void 0:a.charAt(0))?void 0:r.toUpperCase()}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-deep-teal",children:t.username}),e.jsx("p",{className:"text-gray-500 text-sm",children:t.specialization})]})]}),e.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:[null==(o=t.bio)?void 0:o.substring(0,100),"..."]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:t.location||"Location not specified"}),t.relevanceScore&&e.jsxs("span",{className:"bg-coral-red/20 text-coral-red px-2 py-1 rounded-full text-xs font-medium",children:[Math.round(100*t.relevanceScore),"% match"]})]})]},t.t||t.id)})})]})]}),!u&&s.length>2&&0===v&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ”"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No results found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Try rephrasing your search or use different keywords"}),e.jsxs("div",{className:"text-sm text-gray-400",children:[e.jsx("span",{className:"font-medium",children:"Try:"}),' "traditional dance", "madhubani painting", "south indian art"']})]})]})},pe=t=>e.jsx(he,{children:e.jsx(me,{...t})}),fe=t=>e.jsx(he,{children:e.jsx(ue,{...t})});function ge({scrolled:t,onMapClick:r}){var l,i;const[s,c]=a.useState(!1),[d,h]=a.useState(!1),[u,p]=a.useState(!1),f=a.useRef(),g=a.useRef(),v=o(),{user:x,logout:w,isAuthenticated:y}=S();return a.useEffect(()=>{function e(e){f.current&&!f.current.contains(e.target)&&c(!1),g.current&&!g.current.contains(e.target)&&h(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.jsx("header",{className:`\n    fixed top-0 left-1/2 -translate-x-1/2 w-full z-50\n    transition-all duration-500 ease-in-out font-lora\n    ${t?"bg-blush-peach/95 backdrop-blur-md rounded-full shadow-2xl px-6 border border-vermilion/20":"bg-transparent px-6 flex justify-between items-center"}\n    h-16\n  `,style:{width:t?"97vw":"100vw"},children:e.jsxs("div",{className:"flex items-center h-full w-full",children:[e.jsx("div",{className:"w-64 flex-shrink-0 flex items-center",children:e.jsx(n,{to:"/home",className:"no-underline block "+(t?"":"relative top-2"),children:e.jsx("img",{src:"/assets/logo-header.png",alt:"KalaSangam Logo",className:`\n      transition-all duration-500 ease-in-out\n      ${t?"h-20 scale-125":"h-24 scale-150"}\n      hover:scale-[1.7]"\n    `})})}),e.jsx("nav",{className:"flex items-center justify-center flex-1 text-[1.35rem] font-bold tracking-wide transition-colors duration-500 ease-in-out\n              text-deep-teal",children:e.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[e.jsx(n,{to:"/gallery",className:"font-winky font-[500] transition-all duration-300 ease-in-out hover:text-rosehover "+(t?"":"relative top-3"),children:"Gallery"}),e.jsx(n,{to:"/art-wall",className:"font-winky font-[500] transition-all duration-300 ease-in-out hover:text-rosehover "+(t?"":"relative top-3"),children:"Art Wall"}),e.jsx(n,{to:"/artists",className:"font-winky font-[500] transition-all duration-300 ease-in-out hover:text-rosehover "+(t?"":"relative top-3"),children:"Artists"}),e.jsxs("div",{className:"relative flex items-center",ref:f,children:[e.jsxs("span",{className:`\n  font-winky font-[500] text-deep-teal cursor-pointer flex items-center\n  transition-all duration-300 ease-in-out hover:text-rosehover\n  ${t?"":"relative top-3"}\n`,onClick:()=>c(!s),children:["Explore",e.jsx("svg",{className:"w-4 h-4 ml-1 transition-transform duration-200 "+(s?"rotate-90":"rotate-0"),fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]}),s&&e.jsx("ul",{className:`\n        absolute top-full mt-2 z-50 w-52 rounded-xl shadow-lg font-winky text-[1.1rem] font-[500] tracking-wide\n        ${t?"bg-deep-teal text-blush-peach border border-coral-red/20":"bg-blush-peach text-deep-teal border border-deep-teal/10"}\n      `,children:[{label:"Explore by State",key:"state"},{label:"Explore Art",key:"art"},{label:"Explore Dance",key:"dance"},{label:"Explore Music",key:"music"},{label:"Explore Crafts",key:"crafts"}].map(a=>e.jsx("li",{className:`\n            px-4 py-2 cursor-pointer transition-all duration-200\n            ${t?"hover:bg-coral-red/20 hover:text-saffronglow":"hover:text-vermilion"}\n          `,onClick:()=>(e=>{switch(c(!1),e){case"state":v("/explore/state");break;case"art":v("/explore/art?category=art");break;case"dance":v("/explore/dance?category=dance");break;case"music":v("/explore/music?category=music");break;case"crafts":v("/explore/crafts?category=craft")}})(a.key),children:a.label},a.key))})]}),e.jsx(n,{to:"/map",className:"font-winky font-[500] transition-all duration-300 ease-in-out hover:text-rosehover "+(t?"":"relative top-3"),onClick:r,children:"Map"}),e.jsx(n,{to:"/events",className:"font-winky font-[500] transition-all duration-300 ease-in-out hover:text-rosehover "+(t?"":"relative top-3"),children:"Events"}),e.jsx(n,{to:"/about",className:"font-winky font-[500] transition-all duration-300 ease-in-out hover:text-rosehover "+(t?"":"relative top-3"),children:"About"}),e.jsx("div",{className:"flex items-center space-x-4 "+(t?"":"relative top-3"),children:e.jsx(fe,{scrolled:t})})]})}),e.jsx("div",{className:"w-64 flex items-center justify-end space-x-4 "+(t?"":"relative top-3"),children:y?e.jsxs(e.Fragment,{children:["Admin"===(null==x?void 0:x.role)&&e.jsx(n,{to:"/admin",className:"px-4 py-2 rounded-xl font-[550] font-winky text-[1rem] transition-all duration-300 bg-gradient-to-r from-coral-red to-saffronglow text-white hover:from-saffronglow hover:to-coral-red",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"âš¡"}),e.jsx("span",{children:"Admin Panel"})]})}),e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{onClick:()=>h(!d),className:`group flex items-center space-x-2 px-4 py-2 rounded-full font-[550] font-winky text-[1rem] transition-all duration-300 ${t?"bg-gradient-to-r from-deep-teal to-coral-red text-blush-peach hover:from-coral-red hover:to-saffronglow":"hover:bg-gradient-to-r from-deep-teal to-coral-red  "}\n                `,children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx("span",{className:"text-base font-semibold transition-colors duration-300 "+(t?"text-blush-peach group-hover:text-white":"text-deep-teal group-hover:text-white"),children:(null==(i=null==(l=null==x?void 0:x.name)?void 0:l.charAt(0))?void 0:i.toUpperCase())||"?"})}),e.jsx("span",{className:"text-[1.2rem] font-[500] tracking-wide transition-colors duration-300 "+(t?"text-blush-peach group-hover:text-white":"text-deep-teal group-hover:text-white"),children:(null==x?void 0:x.name)||"Artist"}),e.jsx("span",{className:"text-xs text-deep-teal group-hover:text-white",children:"â–¾"})]}),d&&e.jsxs("ul",{className:"absolute right-0 top-full mt-2 z-50 w-56 rounded-xl shadow-xl font-winky text-[1rem] font-[500] tracking-wide "+(t?"bg-deep-teal text-white border border-coral-red/20":"bg-blush-peach text-deep-teal shadow-md border border-deep-teal/10"),children:[e.jsxs("li",{className:"px-4 py-3 border-b border-coral-red/10",children:[e.jsx("div",{className:"text-sm "+(t?"text-saffronglow":"text-vermilion"),children:"Signed in as"}),e.jsx("div",{className:"font-normal truncate "+(t?"text-blush-peach ":"text-deep-teal"),children:null==x?void 0:x.email})]}),e.jsx("li",{children:e.jsx(n,{to:"/profile",className:"block px-4 py-3 rounded-md transition-all duration-300 "+(t?"hover:bg-coral-red/20 text-blush-peach hover:text-saffronglow":"text-deep-teal hover:text-vermilion"),onClick:()=>h(!1),children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:"Profile"})})})}),e.jsx("li",{children:e.jsx(n,{to:"/profile",className:"block px-4 py-3 rounded-md transition-all duration-300 "+(t?"hover:bg-coral-red/20 text-blush-peach hover:text-saffronglow":"text-deep-teal hover:text-vermilion"),onClick:()=>h(!1),children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:"My Artworks"})})})}),e.jsx("li",{children:e.jsx(n,{to:"/profile",className:"block px-4 py-3 rounded-md transition-all duration-300 "+(t?"hover:bg-coral-red/20 text-blush-peach hover:text-saffronglow":"text-deep-teal hover:text-vermilion"),onClick:()=>h(!1),children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:"My Events"})})})}),e.jsx("li",{children:e.jsx(n,{to:"/profile",className:"block px-4 py-3 rounded-md transition-all duration-300 "+(t?"hover:bg-coral-red/20 text-blush-peach hover:text-saffronglow":"text-deep-teal hover:text-vermilion"),onClick:()=>h(!1),children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:"Liked Posts"})})})}),e.jsx("li",{className:"mx-4 my-2",children:e.jsx("div",{className:"h-px "+(t?"bg-coral-red/20":"bg-deep-teal/20")})}),e.jsx("li",{children:e.jsx(n,{to:"/profile",className:"block px-4 py-3 rounded-md transition-all duration-300 "+(t?"hover:bg-coral-red/20 text-blush-peach hover:text-saffronglow":"text-deep-teal hover:text-vermilion"),onClick:()=>h(!1),children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:"Settings"})})})}),e.jsx("li",{children:e.jsx("button",{onClick:async()=>{h(!1);try{await w(),m.success("Logged out successfully!"),v("/home")}catch(e){m.error("Error logging out")}},className:"w-full text-left block px-4 py-3 rounded-md transition-all duration-300 "+(t?"hover:bg-coral-red/20 text-blush-peach hover:text-saffronglow":"text-deep-teal hover:text-vermilion"),children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:"Logout"})})})})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{to:"/login",className:"px-5 py-2 rounded-full font-bold transition-all duration-300 \n             bg-gradient-to-r from-deep-teal to-coral-red text-white\n             hover:from-coral-red hover:to-saffronglow",children:"Login"}),e.jsx(n,{to:"/signup",className:"px-5 py-2 rounded-full font-bold transition-all duration-300 \n                  bg-gradient-to-r from-deep-teal to-coral-red text-white\n                  hover:from-coral-red hover:to-saffronglow",children:"Sign Up"})]})})]})})}function ve(){const[r,o]=a.useState("");return e.jsxs("footer",{className:"bg-gradient-to-r from-deep-teal to-coral-red text-white border-t border-coral-red/20 px-6 py-10 font-lora font-medium",children:[e.jsxs("div",{className:"max-w-5xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 text-center sm:text-left",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold font-dm-serif-display mb-3 text-coral-red",children:"About KalaSangam"}),e.jsx("p",{className:"font-lora text-sm leading-relaxed max-w-md mx-auto sm:mx-0",children:"KalaSangam is a digital tribute to India's rich heritage of traditional arts â€” from Madhubani and Warli to Kathakali and Pattachitra. We connect culture, creativity, and community across 29 states."})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold font-dm-serif-display mb-3 text-coral-red",children:"Explore"}),e.jsx("ul",{className:"font-lora text-sm space-y-2",children:[{to:"/",label:"Home"},{to:"/gallery",label:"Traditional Arts"},{to:"/art-wall",label:"Art Wall"},{to:"/map",label:"States"},{to:"/artists",label:"Artists"},{to:"/login",label:"Login"},{to:"/signup",label:"Sign Up"}].map(({to:t,label:a})=>e.jsx("li",{children:e.jsx(n,{to:t,className:"hover:underline hover:text-saffronglow transition-colors duration-200 font-semibold",children:a})},t))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-xl font-bold font-dm-serif-display mb-3 text-deep-teal text-center",children:"Get in Touch"}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),r.trim()?window.location.href=`/about?email=${encodeURIComponent(r)}#contact`:alert("Please enter your email before submitting!")},className:"space-y-4 max-w-xs mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Your email",value:r,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 font-lora rounded-full text-base \n                         bg-white/90 text-[#134856] \n                         placeholder-[#134856]/50 focus:outline-none \n                         focus:border-[#e05264] focus:ring-2 focus:ring-[#e05264]/40 \n                         transition-all duration-300 shadow-md"}),e.jsx(t.button,{type:"submit",className:"w-full bg-blush-peach text-deep-teal py-2 rounded-full text-lg font-lora font-semibold shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Send Feedback"})]})]})]}),e.jsx("div",{className:"mt-8 pt-5 border-t border-white/20",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 text-center",children:[e.jsx("div",{className:"text-xs font-lora font-bold",children:"Â© 2025 KalaSangam. All rights reserved."}),e.jsx("div",{className:"flex flex-wrap justify-center gap-5 text-xs",children:[{to:"/terms-of-service",label:"Terms of Service"},{to:"/privacy-policy",label:"Privacy Policy"},{to:"/community-guidelines",label:"Community Guidelines"}].map(({to:t,label:a})=>e.jsx(n,{to:t,className:"hover:text-saffronglow hover:underline transition-colors duration-200 font-semibold",children:a},t))})]})})]})}const xe=a.createContext(),we=()=>{const e=a.useContext(xe);if(!e)throw Error("useSoundContext must be used within a SoundProvider");return e},ye=({children:t})=>{const[r,o]=a.useState(!1),[n,l]=a.useState(!1),[i,s]=a.useState(.3),[c,d]=a.useState(Array(128).fill(20)),h=a.useRef(null),[u,m]=a.useState(!1),p=a.useRef(null),f=a.useRef(null),g=a.useRef(null),v=a.useRef(null),x=a.useRef(null),[w,y]=a.useState(null),b=a.useRef(null);a.useEffect(()=>(b.current&&clearInterval(b.current),b.current=setInterval(()=>{if(n){const e=Array(128).fill(0).map((e,t)=>Math.max(20,120*Math.random()+40*Math.sin(.005*Date.now()+.1*t)+60));d(e)}else{const e=Array(128).fill(0).map((e,t)=>Math.max(10,20+10*Math.sin(.002*Date.now()+.2*t)));d(e)}},100),()=>{b.current&&clearInterval(b.current)}),[n]);const N=a.useCallback(()=>{try{if(!p.current&&h.current&&!x.current){p.current=new(window.AudioContext||window.webkitAudioContext),f.current=p.current.createAnalyser(),x.current=p.current.createMediaElementSource(h.current),x.current.connect(f.current),f.current.connect(p.current.destination),f.current.fftSize=256,f.current.smoothingTimeConstant=.8;const e=f.current.frequencyBinCount;g.current=new Uint8Array(e),y(null)}}catch(e){y(e.message);const t=setInterval(()=>{if(n){const e=Array(128).fill(0).map(()=>100*Math.random()+50);d(e)}else clearInterval(t)},100)}},[n]),E=a.useCallback(()=>{if(f.current&&g.current&&n)f.current.getByteFrequencyData(g.current),d(Array.from(g.current)),v.current=requestAnimationFrame(E);else if(n){const e=Array(128).fill(0).map(()=>100*Math.random()+50*Math.sin(.01*Date.now())+50);d(e),v.current=requestAnimationFrame(E)}},[n]);return a.useEffect(()=>(u||(h.current=new Audio("/sitar-loop.mp3"),h.current.loop=!0,h.current.volume=i,h.current.preload="auto",h.current.addEventListener("loadeddata",()=>{N(),m(!0)}),h.current.addEventListener("error",e=>{}),h.current.addEventListener("ended",()=>{l(!1)})),()=>{h.current&&(h.current.pause(),h.current.currentTime=0),v.current&&cancelAnimationFrame(v.current)}),[u]),a.useEffect(()=>{if(h.current&&u)if(r){h.current,h.current.currentTime=0;const e=h.current.play();void 0!==e&&e.then(()=>{l(!0),p.current&&"suspended"===p.current.state&&p.current.resume(),E()}).catch(e=>{l(!1)})}else h.current.pause(),h.current.currentTime=0,l(!1),v.current&&cancelAnimationFrame(v.current)},[r,u]),a.useEffect(()=>{h.current&&(h.current.volume=i)},[i]),e.jsx(xe.Provider,{value:{soundEnabled:r,isPlaying:n,volume:i,audioData:c,toggleSound:()=>{o(!r)},enableSound:()=>{o(!0)},disableSound:()=>{o(!1)},forceStopAllAudio:()=>{document.querySelectorAll("audio").forEach(e=>{e.pause(),e.currentTime=0}),o(!1),l(!1),v.current&&cancelAnimationFrame(v.current)},changeVolume:e=>{s(e),h.current&&(h.current.volume=e)}},children:t})},be=({color:r,delay:o,duration:n})=>{const{initialX:l,initialY:i,size:s,driftDistance:c,horizontalDrift:d}=a.useMemo(()=>({initialX:Math.random()*window.innerWidth,initialY:Math.random()*window.innerHeight,size:1+2.5*Math.random(),driftDistance:40+60*Math.random(),horizontalDrift:40*Math.random()-20}),[]);return e.jsx(t.div,{className:"absolute rounded-full pointer-events-none",style:{backgroundColor:r,width:s+"px",height:s+"px",top:0,left:0},initial:{x:l,y:i,opacity:0,scale:0},animate:{y:i-c,x:l+d,opacity:[0,.3,.8,.6,0],scale:[0,.5,1,.8,0]},transition:{duration:n,delay:o,ease:"easeOut",repeat:1/0,repeatDelay:3*Math.random()+1}})};function Ne({onFinish:r}){const o=["#1E5E75","#E85A4F","#F6A100","#DA639B","#6D47A2"];return a.useEffect(()=>{const e=setTimeout(()=>{r()},3500);return()=>{clearTimeout(e)}},[r]),e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden",style:{backgroundImage:"\n          linear-gradient(to bottom, \n            rgba(247, 252, 223, 0.45), \n            rgba(250, 192, 152, 0.45), \n            rgba(217, 90, 112, 0.45), \n            rgba(19, 72, 86, 0.45)),\n          url(/assets/logoremoved.png)\n        ",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 z-[2] pointer-events-none",children:Array.from({length:120},(t,a)=>e.jsx(be,{color:o[a%o.length],delay:.05*a,duration:3+2*Math.random()},a))}),e.jsx(t.div,{className:"relative flex items-center justify-center z-10",initial:{scale:.5,opacity:0},animate:{scale:1.8,opacity:1,y:0},transition:{duration:3.5,ease:"easeOut"},children:e.jsx(t.img,{src:"/assets/logo-splash.png",alt:"Logo",className:"relative max-w-[80vw] max-h-[80vh] object-contain",animate:{y:[0,-5,5]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"}})})]})}function Ee({onContinue:r}){const[n,l]=a.useState(!1),{enableSound:i,disableSound:s}=we(),c=o(),d=e=>{l(!0),e?i():s(),setTimeout(()=>{r(e),c("/home")},500)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundImage:"\n          linear-gradient(to bottom, \n            rgba(247, 252, 223, 0.4), \n            rgba(250, 192, 152, 0.4), \n            rgba(217, 90, 112, 0.4), \n            rgba(19, 72, 86, 0.4)),\n          url(/assets/logoremoved.png)\n        ",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsx("div",{className:"text-center px-4 max-w-xl",children:e.jsxs(t.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1},children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold mb-6 font-lora text-coral-red",children:"Ready to Explore?"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-2xl mx-auto font-lora text-deep-charcoal",children:"Prepare for a world of rhythm, soul, and color."}),e.jsxs("div",{className:"space-y-4 md:space-x-4 md:space-y-0 md:flex md:justify-center",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-8 py-4 rounded-full bg-deep-teal border-coral-red text-off-white hover:border-deep-teal hover:bg-coral-red transition-all font-bold font-lora text-lg shadow-lg",type:"button",children:"Continue with Sound"}),e.jsx("button",{onClick:()=>d(!1),className:"px-8 py-4 rounded-full bg-deep-teal border-coral-red text-off-white hover:border-deep-teal hover:bg-coral-red transition-all font-bold font-lora text-lg shadow-lg",type:"button",children:"Continue without Sound"})]})]})})})}function ke({onContinue:t}){const[r,o]=a.useState("loading");return"loading"===r?e.jsx(Ne,{onFinish:()=>{o("prompt")}}):"prompt"===r?e.jsx(Ee,{onContinue:e=>{o("done"),t(e)}}):null}const Se=({children:t,allowedRoles:a})=>{const r=localStorage.getItem("token"),o=localStorage.getItem("userRole");return localStorage.getItem("user"),r?a&&!a.includes(o)?e.jsxs("div",{className:"access-denied",children:[e.jsx("h2",{children:"Access Denied"}),e.jsx("p",{children:"You don't have permission to access this page."}),e.jsxs("p",{children:["Required role: ",a.join(" or ")]}),e.jsxs("p",{children:["Your role: ",o||"Not specified"]})]}):t:e.jsx(l,{to:"/admin/login",replace:!0})},Ae=a.createContext();function ze({children:t}){const[r,o]=a.useState(!1),[n,l]=a.useState("initializing");return a.useEffect(()=>{let e;return(async()=>{try{l("checking-dom"),"loading"===document.readyState&&await new Promise(e=>{document.addEventListener("DOMContentLoaded",e,{once:!0})}),l("checking-styles");const e=()=>{const e=document.createElement("div");e.className="hidden opacity-0 transition-opacity duration-300 bg-warm-sand text-deep-teal font-lora",e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=window.getComputedStyle(e),a="none"===t.display,r="0"===t.opacity,o=t.transitionProperty.includes("opacity"),n="rgba(0, 0, 0, 0)"!==t.backgroundColor&&"transparent"!==t.backgroundColor,l="rgba(0, 0, 0, 0)"!==t.color&&"rgb(0, 0, 0)"!==t.color;return document.body.removeChild(e),a&&r&&o&&n&&l};let t=!1,a=0;const r=20;for(;!t&&r>a;)t=e(),t||(await new Promise(e=>setTimeout(e,100)),a++);l("checking-fonts"),document.fonts&&await document.fonts.ready,l("finalizing"),await new Promise(e=>setTimeout(e,200)),l("ready"),o(!0)}catch(e){l("ready"),o(!0)}})(),e=setTimeout(()=>{l("ready"),o(!0)},5e3),()=>{e&&clearTimeout(e)}},[]),e.jsx(Ae.Provider,{value:{isAppReady:r,loadingStage:n},children:t})}function _e(){const{soundEnabled:t,isPlaying:r,volume:o,audioData:n,toggleSound:l,forceStopAllAudio:i,changeVolume:s}=we(),[c,d]=a.useState(!1),h=()=>{const t=n&&n.length>0?n.slice(0,32):Array(32).fill(0).map(()=>r?100*Math.random()+20:10);return e.jsx("div",{className:"flex items-end justify-center gap-1 h-12 w-32",children:t.map((t,a)=>{const o=r?Math.max(4,Math.min(48,Math.max(t||0,0)/255*48+8*Math.sin(.01*Date.now()+a))):Math.max(2,8+4*Math.sin(a));return e.jsx("div",{className:"bg-gradient-to-t from-deep-teal to-coral-red rounded-sm transition-all duration-150",style:{width:"3px",height:o+"px",opacity:r?.9:.4,transform:`scaleY(${r?1:.6})`,boxShadow:r?"0 0 4px rgba(30, 94, 117, 0.5)":"none"}},a)})})};return e.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end gap-2",children:[c&&e.jsxs("div",{className:"bg-mist-blush/95 backdrop-blur-sm rounded-lg p-4 shadow-xl border border-coral-red/20 min-w-[200px]",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs font-medium text-deep-teal mb-2",children:"Audio Visualizer"}),e.jsx("div",{className:"bg-warm-sand rounded-lg p-2",children:e.jsx(h,{})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-medium text-deep-teal",children:"Volume"}),e.jsxs("span",{className:"text-xs text-deep-charcoal/70",children:[Math.round(100*o),"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:o,onChange:e=>{const t=parseFloat(e.target.value);e.preventDefault(),e.stopPropagation(),s(t)},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #1E5E75 0%, #1E5E75 ${100*o}%, #e5e7eb ${100*o}%, #e5e7eb 100%)`}})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:i,className:"flex-1 px-3 py-2 bg-coral-red text-white text-xs rounded-md hover:bg-muted-fuchsia transition-colors",children:"Force Stop"}),e.jsx("button",{onClick:()=>s(.5),className:"flex-1 px-3 py-2 bg-deep-teal text-white text-xs rounded-md hover:bg-indigo-purple transition-colors",children:"Reset Volume"})]})]}),e.jsx("button",{onClick:l,onDoubleClick:()=>{i()},className:`\n          p-3 rounded-full shadow-lg transition-all duration-300\n          ${t?"bg-deep-teal hover:bg-coral-red text-white":"bg-deep-charcoal hover:bg-muted-fuchsia text-white"}\n          hover:scale-105 active:scale-95\n        `,title:t?"Turn off sound (double-click to force stop)":"Turn on sound",children:e.jsxs("div",{className:"relative w-6 h-6",children:[t&&r&&e.jsxs("div",{className:"absolute inset-0 animate-pulse",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-8 h-8 rounded-full border-2 border-white/30 animate-ping"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-6 rounded-full border-2 border-white/50 animate-ping",style:{animationDelay:"0.3s"}})]}),e.jsx("svg",{className:"w-full h-full",fill:"currentColor",viewBox:"0 0 24 24",children:t?e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}):e.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})})]})}),e.jsx("button",{onClick:()=>d(!c),className:`\n          px-3 py-1 rounded-full text-xs font-medium transition-all duration-300\n          ${c?"bg-deep-teal text-white":t?"bg-saffron-mist text-coral-red hover:bg-golden-saffron":"bg-mist-blush text-deep-charcoal hover:bg-warm-sand"}\n        `,children:c?"ðŸ”½ Controls":t?r?"ðŸŽµ Playing":"â¸ï¸ Ready":"ðŸ”‡ Off"})]})}const Le=a.lazy(()=>h(()=>import("./ArtGallery-BBYkMinT.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),Ce=a.lazy(()=>h(()=>import("./Home-CIXLiJy5.js"),__vite__mapDeps([10,1,2,3,11,7,8,4,9,12]))),Te=a.lazy(()=>h(()=>import("./IndiaMapPage-BRPYqW8m.js"),__vite__mapDeps([13,1,2,3,11,5,6]))),Re=a.lazy(()=>h(()=>import("./About-C-g7AjSE.js"),__vite__mapDeps([14,1,2,3,8,4,5,6]))),Me=a.lazy(()=>h(()=>import("./LoginPage-KyuaJPlZ.js"),__vite__mapDeps([15,1,2,3,8,4,16,7,9]))),je=a.lazy(()=>h(()=>import("./Signup-BbiFkX90.js"),__vite__mapDeps([17,1,2,3,8,4,16,7,9]))),Pe=a.lazy(()=>h(()=>import("./PhoneLogin-BOFDetPR.js"),__vite__mapDeps([18,1,2,3,8,4,16,7,9]))),$e=a.lazy(()=>h(()=>import("./PhoneSignup-DLURJGxA.js"),__vite__mapDeps([19,1,2,3,8,4,16,7,9]))),Oe=a.lazy(()=>h(()=>import("./TermsOfService-BjRyHlqQ.js"),__vite__mapDeps([20,1,2,3]))),Ve=a.lazy(()=>h(()=>import("./PrivacyPolicy-BT5Hi1gi.js"),__vite__mapDeps([21,1,2,3]))),Ie=a.lazy(()=>h(()=>import("./CommunityGuidelines-Dp5WclhP.js"),__vite__mapDeps([22,1,2,3]))),Be=a.lazy(()=>h(()=>import("./UserPage-BzoMoXYq.js"),__vite__mapDeps([23,1,2,3,8,4,24,25,26,27,28,5,7,9]))),De=a.lazy(()=>h(()=>import("./ForgotPw-DcOvmH9g.js"),__vite__mapDeps([29,1,2,3,8,4,16,7,9]))),Fe=a.lazy(()=>h(()=>import("./ResetPassword-D6t_YMw3.js"),__vite__mapDeps([30,1,2,3,8,4]))),Ue=a.lazy(()=>h(()=>import("./DanceGallery-BG0GX19o.js"),__vite__mapDeps([31,1,2,3,4]))),He=a.lazy(()=>h(()=>import("./MusicPage-X1jE9yjT.js"),__vite__mapDeps([32,1,2,3,5,33]))),Ge=a.lazy(()=>h(()=>import("./CraftsPage-BOMD2Xq6.js"),__vite__mapDeps([34,1,2,3,5,9]))),Je=a.lazy(()=>h(()=>import("./EventsPage-DG_OT5kV.js"),__vite__mapDeps([35,1,2,3,8,4,9,27,5,7,36]))),qe=a.lazy(()=>h(()=>import("./ArtWall-Bur2IqUM.js"),__vite__mapDeps([37,1,2,3,24,8,4,25,26,5,7,9]))),Ke=a.lazy(()=>h(()=>import("./ArtistsList-DOmH3hT_.js"),__vite__mapDeps([38,1,2,3,25,5,7,8,4,9]))),We=a.lazy(()=>h(()=>import("./ArtistProfile-BdcEIrPE.js"),__vite__mapDeps([39,1,2,3,25,8,4,28,7,9]))),Ye=a.lazy(()=>h(()=>import("./AdminLogin-BBUrZRWo.js"),__vite__mapDeps([40,1,2,3,7,8,4,9])));a.lazy(()=>h(()=>import("./AdminPanel-CS8Afne9.js"),__vite__mapDeps([41,1,2,3,7,8,4,9,42])));const Ze=a.lazy(()=>h(()=>import("./AdminDashboard-DjsVPb5M.js"),__vite__mapDeps([43,1,2,3,41,7,8,4,9,42,5]))),Qe=a.lazy(()=>h(()=>import("./SearchResults-BitxRIVK.js"),__vite__mapDeps([44,1,2,3,5,7,8,4,9])));function Xe(){const t=i(),r=o(),{disableSound:n}=we(),{isAppReady:l,loadingStage:d}=function(){const e=a.useContext(Ae);if(!e)throw Error("useAppReady must be used within AppReadyProvider");return e}();a.useEffect(()=>{const e=()=>{window.location.reload(!0)},t=setInterval(e,18e5),a=t=>{(t.ctrlKey||t.metaKey)&&t.shiftKey&&"R"===t.key&&(t.preventDefault(),e())};return document.addEventListener("keydown",a),()=>{clearInterval(t),document.removeEventListener("keydown",a)}},[]),a.useEffect(()=>{"/"===t.pathname&&sessionStorage.getItem("splashShown")&&r("/home",{replace:!0})},[t.pathname,r]);const h=a.useRef(null),[u,m]=a.useState(!1);a.useEffect(()=>{const e=new IntersectionObserver(([e])=>{m(!e.isIntersecting)},{root:null,threshold:0}),t=h.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[u]);const f=e=>{r("/gallery?state="+encodeURIComponent(e))};return a.useEffect(()=>{"/"!==t.pathname&&"/home"!==t.pathname&&n()},[t.pathname,n]),e.jsxs("div",{className:"app-container relative",children:[e.jsxs("div",{className:"content-wrapper relative",children:[e.jsx(ge,{scrolled:u,onMapClick:()=>{r("/map")}}),e.jsx("div",{ref:h,className:"h-[1px] w-full"}),e.jsxs("main",{className:"page-content "+(l?"":"loading"),children:[e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-warm-sand",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-deep-teal mx-auto mb-4"}),e.jsx("div",{className:"text-lg text-deep-charcoal font-lora",children:"Loading..."})]})}),children:e.jsxs(s,{children:[e.jsx(c,{path:"/",element:e.jsx(Ce,{})}),e.jsx(c,{path:"/home",element:e.jsx(Ce,{})}),e.jsx(c,{path:"/map",element:e.jsx(Te,{onStateClick:f})}),e.jsx(c,{path:"/gallery",element:e.jsx(Le,{})}),e.jsx(c,{path:"/art-wall",element:e.jsx(qe,{})}),e.jsx(c,{path:"/artists",element:e.jsx(Ke,{})}),e.jsx(c,{path:"/artist/:artistId",element:e.jsx(We,{})}),e.jsx(c,{path:"/about",element:e.jsx(Re,{})}),e.jsx(c,{path:"/admin/login",element:e.jsx(Ye,{})}),e.jsx(c,{path:"/admin",element:e.jsx(Se,{allowedRoles:["Admin"],children:e.jsx(Ze,{})})}),e.jsx(c,{path:"/admin/panel",element:e.jsx(Se,{allowedRoles:["Admin"],children:e.jsx(Ze,{})})}),e.jsx(c,{path:"/login",element:e.jsx(Me,{})}),e.jsx(c,{path:"/signup",element:e.jsx(je,{})}),e.jsx(c,{path:"/phone-login",element:e.jsx(Pe,{})}),e.jsx(c,{path:"/phone-signup",element:e.jsx($e,{})}),e.jsx(c,{path:"/profile",element:e.jsx(Be,{})}),e.jsx(c,{path:"/search",element:e.jsx(Qe,{})}),e.jsx(c,{path:"/forgot-password",element:e.jsx(De,{})}),e.jsx(c,{path:"/reset-password/:token",element:e.jsx(Fe,{})}),e.jsx(c,{path:"/explore/state",element:e.jsx(Te,{onStateClick:f})}),e.jsx(c,{path:"/explore/art",element:e.jsx(Le,{})}),e.jsx(c,{path:"/explore/dance",element:e.jsx(Ue,{})}),e.jsx(c,{path:"/explore/music",element:e.jsx(He,{})}),e.jsx(c,{path:"/explore/crafts",element:e.jsx(Ge,{})}),e.jsx(c,{path:"/events",element:e.jsx(Je,{})}),e.jsx(c,{path:"/search",element:e.jsx(Qe,{})}),e.jsx(c,{path:"/terms-of-service",element:e.jsx(Oe,{})}),e.jsx(c,{path:"/privacy-policy",element:e.jsx(Ve,{})}),e.jsx(c,{path:"/community-guidelines",element:e.jsx(Ie,{})}),e.jsx(c,{path:"*",element:e.jsx(Ce,{})})]})}),!l&&e.jsx("div",{className:"fixed inset-0 z-50 flex justify-center items-center",style:{backgroundColor:"#F8E6DA"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-transparent border-t-orange-500 mx-auto mb-6"}),e.jsx("div",{className:"text-xl font-bold",style:{color:"#2E2E2E",fontFamily:"system-ui, -apple-system, sans-serif"},children:"KalaSangam"}),e.jsxs("div",{className:"text-sm mt-2",style:{color:"#666",fontFamily:"system-ui, -apple-system, sans-serif"},children:["checking-dom"===d&&"Initializing...","checking-styles"===d&&"Loading styles...","checking-fonts"===d&&"Loading fonts...","finalizing"===d&&"Almost ready...","initializing"===d&&"Starting up...",!d&&"Preparing your cultural journey..."]}),e.jsx("div",{className:"w-48 h-1 bg-gray-200 rounded-full mt-4 mx-auto overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-red-500 rounded-full animate-pulse"})})]})})]}),e.jsx(ve,{})]}),("/"===t.pathname||"/home"===t.pathname)&&e.jsx(_e,{}),e.jsx(p,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",toastClassName:"toast-custom",bodyClassName:"toast-body-custom",progressClassName:"toast-progress-custom"})]})}function et(){const[t,r]=a.useState(()=>"/"===window.location.pathname&&!sessionStorage.getItem("splashShown"));return e.jsx(ze,{children:e.jsx(k,{children:e.jsx(ye,{children:t?e.jsx(ke,{onContinue:()=>{sessionStorage.setItem("splashShown","true"),r(!1)}}):e.jsx(Xe,{})})})})}u.createRoot(document.getElementById("root")).render(e.jsx(d,{children:e.jsx(et,{})}));export{le as A,ie as B,A as C,R as D,ce as E,Z as F,V as G,D as H,T as I,te as J,J as K,C as L,pe as S,F as a,K as b,W as c,M as d,j as e,de as f,I as g,B as h,X as i,v as j,H as k,_ as l,ne as m,re as n,z as o,oe as p,L as q,$ as r,Q as s,Y as t,S as u,ae as v,q as w,P as x,O as y,U as z};
