import{j as e,m as t,A as a}from"./chunk-DVxuGNgR.js";import{r as n,L as r}from"./chunk-Bdcpd3Jy.js";import{y as i,C as o}from"./chunk-B7Q-YYjA.js";import{u as l,j as s,t as c,F as d,a as h}from"./index-BxKwhLk7.js";import{G as m}from"./chunk-CM-yfVV2.js";import{E as u}from"./chunk-DDOWB7ro.js";import{F as p}from"./chunk-CcL9Otje.js";import"./chunk-Boz1BxA5.js";import"./chunk-BMgD4wMx.js";import"./chunk-DsC01Si0.js";function g(e){return m({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.316 5.684H24v12.632h-5.684V5.684zM5.684 24h12.632v-5.684H5.684V24zM18.316 5.684V0H1.895A1.894 1.894 0 0 0 0 1.895v16.421h5.684V5.684h12.632zm-7.207 6.25v-.065c.272-.144.5-.349.687-.617s.279-.595.279-.982c0-.379-.099-.72-.3-1.025a2.05 2.05 0 0 0-.832-.714 2.703 2.703 0 0 0-1.197-.257c-.6 0-1.094.156-1.481.467-.386.311-.65.671-.793 1.078l1.085.452c.086-.249.224-.461.413-.633.189-.172.445-.257.767-.257.33 0 .602.088.816.264a.86.86 0 0 1 .322.703c0 .33-.12.589-.36.778-.24.19-.535.284-.886.284h-.567v1.085h.633c.407 0 .748.109 1.02.327.272.218.407.499.407.843 0 .336-.129.614-.387.832s-.565.327-.924.327c-.351 0-.651-.103-.897-.311-.248-.208-.422-.502-.521-.881l-1.096.452c.178.616.505 1.082.977 1.401.472.319.984.478 1.538.477a2.84 2.84 0 0 0 1.293-.291c.382-.193.684-.458.902-.794.218-.336.327-.72.327-1.149 0-.429-.115-.797-.344-1.105a2.067 2.067 0 0 0-.881-.689zm2.093-1.931l.602.913L15 10.045v5.744h1.187V8.446h-.827l-2.158 1.557zM22.105 0h-3.289v5.184H24V1.895A1.894 1.894 0 0 0 22.105 0zm-3.289 23.5l4.684-4.684h-4.684V23.5zM0 22.105C0 23.152.848 24 1.895 24h3.289v-5.184H0v3.289z"},child:[]}]})(e)}const f=[{t:"1",title:"Classical Kuchipudi Workshop",description:"Learn the fundamentals of Kuchipudi dance from expert instructors. This workshop covers basic steps, expressions, and traditional choreography.",category:"dance",type:"workshop",date:"2025-08-15",time:"10:00 AM",location:{venue:"Cultural Heritage Center",city:"Mumbai"},price:1500,instructor:"Guru Priya Sharma",registrationRequired:!0,link:"https://example.com/kuchipudi-workshop"},{t:"2",title:"Sitar Recital - Raag Yaman",description:"Experience the mesmerizing sounds of classical Indian music with a traditional sitar performance featuring Raag Yaman.",category:"music",type:"performance",date:"2025-08-20",time:"7:00 PM",location:{venue:"Music Academy Auditorium",city:"Delhi"},price:500,instructor:"Pandit Ravi Kumar",registrationRequired:!0,link:"https://example.com/sitar-recital"},{t:"3",title:"Madhubani Painting Exhibition",description:"Explore the vibrant world of Madhubani art through this comprehensive exhibition featuring works from renowned artists.",category:"art",type:"exhibition",date:"2025-08-25",time:"11:00 AM",location:{venue:"National Art Gallery",city:"Kolkata"},price:0,registrationRequired:!1,link:"https://example.com/madhubani-exhibition"},{t:"4",title:"Pottery Making Workshop",description:"Hands-on pottery workshop where you'll learn traditional clay molding techniques and create your own masterpiece.",category:"crafts",type:"workshop",date:"2025-09-01",time:"2:00 PM",location:{venue:"Artisan's Studio",city:"Jaipur"},price:800,instructor:"Master Craftsman Ramesh",registrationRequired:!0,link:"https://example.com/pottery-workshop"},{t:"5",title:"Folk Dance Festival",description:"Celebrate India's diverse folk traditions with performances from various states including Bhangra, Garba, and Kuchipudi.",category:"dance",type:"event",date:"2025-09-05",time:"6:00 PM",location:{venue:"Open Air Theatre",city:"Bangalore"},price:300,registrationRequired:!0,link:"https://example.com/folk-dance-festival"},{t:"6",title:"Traditional Jewelry Making",description:"Learn the ancient art of traditional jewelry making using authentic techniques and materials.",category:"crafts",type:"workshop",date:"2025-09-10",time:"10:30 AM",location:{venue:"Craft Village",city:"Chennai"},price:2e3,instructor:"Artisan Meera Devi",registrationRequired:!0,link:"https://example.com/jewelry-workshop"}];function x(){const[m,x]=n.useState(!1),[b,v]=n.useState([]),[y,w]=n.useState(new Date),[N,k]=n.useState("calendar"),[M,C]=n.useState({category:"all",type:"all",city:""}),[_,A]=n.useState(!1),[j,D]=n.useState(!1),[E,z]=n.useState(null),{user:R,isAuthenticated:T}=l();n.useEffect(()=>{const e=setTimeout(()=>{x(!0)},150);return F(),()=>clearTimeout(e)},[]);const F=async()=>{try{A(!0);const e=await s.get("/api/events");e.data.success?v(e.data.data):v(f)}catch(e){v(f),i.error("Failed to load events from server, showing sample events")}finally{A(!1)}},P=(e,t)=>{C(a=>({...a,[e]:t}))},H=()=>{let e=[...b];return"all"!==M.category&&(e=e.filter(e=>e.category===M.category)),"all"!==M.type&&(e=e.filter(e=>e.type===M.type)),M.city&&(e=e.filter(e=>e.location.city.toLowerCase().includes(M.city.toLowerCase()))),e},I=e=>H().filter(t=>new Date(t.date).toDateString()===e.toDateString()),$=a=>{const n=a;return e.jsxs(t.div,{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all duration-300 border border-orange-100 hover:shadow-[0_0_20px_rgba(19,72,86,0.3)] group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-5,boxShadow:"0 20px 40px rgba(224, 82, 100, 0.2)"},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-[#134856] font-dm-serif group-hover:text-[#e05264] transition-colors",children:n.title}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("dance"===n.category?"bg-pink-100 text-pink-800":"music"===n.category?"bg-blue-100 text-blue-800":"art"===n.category?"bg-green-100 text-green-800":"crafts"===n.category?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:n.category})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:n.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-[#134856] to-[#e05264] rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(n.date).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-[#134856] to-[#e05264] rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Time:"})," ",n.time]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-[#134856] to-[#e05264] rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Location:"})," ",n.location.venue,", ",n.location.city]})]}),n.price>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-[#134856] to-[#e05264] rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Price:"})," â‚¹",n.price]})]}),n.instructor&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-[#134856] to-[#e05264] rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Instructor:"})," ",n.instructor]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("workshop"===n.type?"bg-purple-100 text-purple-800":"event"===n.type?"bg-indigo-100 text-indigo-800":"exhibition"===n.type?"bg-teal-100 text-teal-800":"bg-red-100 text-red-800"),children:n.type}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>(e=>{const t=(e=>{const t=new Date(e.date),[a,n]=e.time.split(/[: ]/),r=e.time.toLowerCase().includes("pm");let i=parseInt(a);r&&12!==i&&(i+=12),r||12!==i||(i=0),t.setHours(i,parseInt(n)||0,0,0);const o=new Date(t.getTime()+72e5),l=e=>{if(!e||isNaN(e.getTime()))return"";const t=e.toISOString();if(!t)return"";const a=t.replace(/[-:]/g,"").split(".");return a.length>0?a[0]+"Z":""},s=l(t),c=l(o),d=e.title,h=`${e.description}\n\nCategory: ${e.category}\nType: ${e.type}\n`+(e.instructor?`Instructor: ${e.instructor}\n`:"")+(e.price>0?`Price: â‚¹${e.price}\n`:"")+(e.link?"More Info: "+e.link:""),m=`${e.location.venue}, ${e.location.city}`;return"https://calendar.google.com/calendar/render?"+new URLSearchParams({action:"TEMPLATE",text:d,dates:`${s}/${c}`,details:h,location:m,trp:"false"}).toString()})(e);window.open(t,"_blank")})(n),className:"bg-gradient-to-r from-[#134856] to-[#e05264] text-white px-4 py-2 rounded-full text-sm font-medium hover:scale-105 transition-transform shadow-md hover:shadow-lg flex items-center gap-2",title:"Add to Google Calendar",children:[e.jsx(g,{className:"text-base"}),e.jsx("span",{className:"hidden sm:inline",children:"Add to Calendar"})]}),e.jsx("button",{onClick:()=>{return e=n.link||"#",void window.open(e,"_blank");var e},className:"bg-gradient-to-r from-[#134856] to-[#e05264] text-white px-4 py-2 rounded-full text-sm font-medium hover:scale-105 transition-transform shadow-md hover:shadow-lg",children:n.registrationRequired?"Register":"Learn More"})]})]})]},n.t)},V=()=>{const a=Array.from({length:15},(e,t)=>({id:t,size:4*Math.random()+2,color:["rgba(19, 72, 86, 0.6)","rgba(224, 82, 100, 0.6)","rgba(244, 140, 140, 0.6)","rgba(29, 124, 111, 0.6)","rgba(255, 215, 0, 0.6)"][Math.floor(5*Math.random())],initialX:100*Math.random(),initialY:100*Math.random(),animationDelay:5*Math.random(),animationDuration:8+6*Math.random()}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:a.map(a=>e.jsx(t.div,{className:"absolute rounded-full opacity-40",style:{width:a.size+"px",height:a.size+"px",backgroundColor:a.color,left:a.initialX+"%",top:a.initialY+"%",filter:"blur(0.5px)",boxShadow:`0 0 ${2*a.size}px ${a.color}`},animate:{y:[0,-80,0],x:[0,25,-25,0],opacity:[.4,.7,.4],scale:[1,1.3,1]},transition:{duration:a.animationDuration,repeat:1/0,delay:a.animationDelay,ease:"easeInOut"}},a.id))})};return e.jsxs("div",{className:"min-h-screen bg-[#F8E6DA] pb-8 overflow-hidden",children:[e.jsx(p,{}),e.jsx(V,{}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[e.jsxs(t.section,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("h1",{className:"inline-block text-6xl pt-10 font-dm-serif mb-8 pb-2 drop-shadow-lg bg-gradient-to-r from-[#134856] to-[#e05264] bg-clip-text text-transparent",style:{lineHeight:"1.2"},children:"Events & Workshops"}),e.jsx("p",{className:"text-lg font-lora font-semibold text-xl text-[#E05264] max-w-3xl mx-auto leading-relaxed mb-10",children:"Immerse yourself in India's vibrant cultural landscape. Join workshops, attend performances, and be part of our living heritage."}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center items-center",children:[T&&R&&("Artist"===R.role||"Admin"===R.role)&&e.jsxs(t.button,{onClick:()=>D(!0),className:"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 font-dm-serif",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[e.jsx(c,{className:"text-white"}),"Create Event"]}),e.jsxs("div",{className:"flex bg-white rounded-lg shadow-sm p-1",children:[e.jsx("button",{onClick:()=>k("calendar"),className:"px-8 py-4 rounded-md transition-colors "+("calendar"===N?"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white":"text-gray-600 hover:text-[#E05264]"),children:"Calendar View"}),e.jsx("button",{onClick:()=>k("list"),className:"px-8 py-4 rounded-md transition-colors "+("list"===N?"bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] text-white":"text-gray-600 hover:text-[#E05264]"),children:"List View"})]})]})]}),e.jsx(t.div,{className:"bg-gradient-to-br from-[#1d7c6f] to-[#f58c8c] rounded-3xl shadow-2xl p-2 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:e.jsx("div",{className:"bg-[#F8E6DA] rounded-2xl p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events, cities...",value:M.city,onChange:e=>P("city",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"text-gray-600"}),e.jsxs("select",{value:M.category,onChange:e=>P("category",e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"dance",children:"Dance"}),e.jsx("option",{value:"music",children:"Music"}),e.jsx("option",{value:"art",children:"Art"}),e.jsx("option",{value:"crafts",children:"Crafts"}),e.jsx("option",{value:"general",children:"General"})]})]}),e.jsxs("select",{value:M.type,onChange:e=>P("type",e.target.value),className:"px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"workshop",children:"Workshop"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"exhibition",children:"Exhibition"}),e.jsx("option",{value:"performance",children:"Performance"})]})]})]})})}),_&&e.jsx("div",{className:"flex justify-center items-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600"})}),e.jsx(a,{children:e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.4},children:"calendar"===N?(()=>{const t=I(y);return e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4 text-[#134856] font-dm-serif",children:"Select Date"}),e.jsx(o,{onChange:w,value:y,className:"react-calendar-custom",tileClassName:({date:e})=>I(e).length>0?"has-events":""}),e.jsx("style",{jsx:!0,children:"\n              .react-calendar-custom {\n                width: 100%;\n                background: white;\n                border: 1px solid #e0e7ff;\n                border-radius: 8px;\n                font-family: inherit;\n                line-height: 1.125em;\n              }\n              \n              .react-calendar-custom .react-calendar__navigation button {\n                color: #134856;\n                min-width: 44px;\n                background: none;\n                font-size: 16px;\n                margin-top: 8px;\n              }\n              \n              .react-calendar-custom .react-calendar__navigation button:enabled:hover,\n              .react-calendar-custom .react-calendar__navigation button:enabled:focus {\n                background-color: #f4f3f0;\n                color: #e05264;\n              }\n              \n              .react-calendar-custom .react-calendar__tile {\n                max-width: 100%;\n                padding: 10px 6px;\n                background: none;\n                text-align: center;\n                line-height: 16px;\n                font: inherit;\n                font-size: 0.833em;\n                color: #134856;\n              }\n              \n              .react-calendar-custom .react-calendar__tile:enabled:hover,\n              .react-calendar-custom .react-calendar__tile:enabled:focus {\n                background-color: #f4f3f0;\n                color: #e05264;\n              }\n              \n              .react-calendar-custom .react-calendar__tile--active {\n                background: linear-gradient(135deg, #134856 0%, #e05264 100%);\n                color: white;\n              }\n              \n              .react-calendar-custom .react-calendar__tile--active:enabled:hover,\n              .react-calendar-custom .react-calendar__tile--active:enabled:focus {\n                background: linear-gradient(135deg, #e05264 0%, #134856 100%);\n              }\n              \n              .react-calendar-custom .has-events {\n                background: linear-gradient(135deg, #f4c8c3 0%, #fde8e8 100%);\n                border-radius: 4px;\n                position: relative;\n              }\n              \n              .react-calendar-custom .has-events::after {\n                content: '';\n                position: absolute;\n                bottom: 2px;\n                left: 50%;\n                transform: translateX(-50%);\n                width: 6px;\n                height: 6px;\n                background: #e05264;\n                border-radius: 50%;\n              }\n            "})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 text-[#134856] font-dm-serif",children:["Events on ",y.toLocaleDateString()]}),0===t.length?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No events scheduled for this date."})}):e.jsx("div",{className:"space-y-4",children:t.map($)})]})})]})})():(()=>{const t=(()=>{const e=H(),t=new Date;return e.filter(e=>new Date(e.date)>=t).sort((e,t)=>new Date(e.date)-new Date(t.date)).slice(0,6)})();return e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t&&t.map($)})})()})}),!_&&0===H().length&&e.jsxs(t.div,{className:"text-center py-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“…"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}),e.jsxs(t.div,{className:"mt-16 bg-gradient-to-r from-[#1d7c6f] to-[#f58c8c] rounded-3xl p-8 md:p-12 text-center text-white shadow-2xl",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-dm-serif font-bold mb-6",children:"Do you organize events?"}),e.jsx("p",{className:"text-xl font-lora mb-8 text-white/90 max-w-2xl mx-auto leading-relaxed",children:"Join our platform to showcase your cultural events and workshops. Connect with art enthusiasts and help preserve India's rich cultural heritage through meaningful experiences."}),e.jsx(t.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:e.jsx(r,{to:"/signup",className:"inline-block px-8 py-4 bg-white text-[#134856] font-semibold font-dm-serif rounded-full hover:bg-[#F8E6DA] transition-colors duration-300 shadow-lg",children:"Become an Event Organizer"})})]}),e.jsx(u,{isOpen:j||null!==E,onClose:()=>{D(!1),z(null)},onSubmit:E?async e=>{var t,a;try{const t=await s.put("/api/events/"+E.t,e);t.data.success?(i.success("Event updated successfully!"),F(),z(null)):i.error(t.data.message||"Failed to update event")}catch(n){i.error((null==(a=null==(t=n.response)?void 0:t.data)?void 0:a.message)||"Failed to update event")}}:async e=>{var t,a;try{const t=await s.post("/api/events",e);t.data.success?(i.success("Event created successfully!"),F(),D(!1)):i.error(t.data.message||"Failed to create event")}catch(n){i.error((null==(a=null==(t=n.response)?void 0:t.data)?void 0:a.message)||"Failed to create event")}},event:E})]})]})}export{x as default};
